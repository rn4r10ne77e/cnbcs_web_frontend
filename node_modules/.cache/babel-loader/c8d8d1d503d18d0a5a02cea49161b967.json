{"ast":null,"code":"/**\n * @module ol/style/IconImage\n */\n\nimport { decodeFallback } from '../Image.js';\nimport ImageState from '../ImageState.js';\nimport { asString } from '../color.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport EventType from '../events/EventType.js';\nimport EventTarget from '../events/Target.js';\nimport { shared as iconImageCache } from './IconImageCache.js';\n\n/**\n * @type {CanvasRenderingContext2D}\n */\nlet taintedTestContext = null;\nclass IconImage extends EventTarget {\n  /**\n   * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null} image Image.\n   * @param {string|undefined} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../ImageState.js\").default|undefined} imageState Image state.\n   * @param {import(\"../color.js\").Color|string|null} color Color.\n   */\n  constructor(image, src, crossOrigin, imageState, color) {\n    super();\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement|ImageBitmap}\n     */\n    this.hitDetectionImage_ = null;\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null}\n     */\n    this.image_ = image;\n\n    /**\n     * @private\n     * @type {string|null}\n     */\n    this.crossOrigin_ = crossOrigin;\n\n    /**\n     * @private\n     * @type {Object<number, HTMLCanvasElement>}\n     */\n    this.canvas_ = {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color|string|null}\n     */\n    this.color_ = color;\n\n    /**\n     * @private\n     * @type {import(\"../ImageState.js\").default}\n     */\n    this.imageState_ = imageState === undefined ? ImageState.IDLE : imageState;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size|null}\n     */\n    this.size_ = image && image.width && image.height ? [image.width, image.height] : null;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     */\n    this.tainted_;\n\n    /**\n     * @private\n     * @type {Promise<void>|null}\n     */\n    this.ready_ = null;\n  }\n\n  /**\n   * @private\n   */\n  initializeImage_() {\n    this.image_ = new Image();\n    if (this.crossOrigin_ !== null) {\n      this.image_.crossOrigin = this.crossOrigin_;\n    }\n  }\n\n  /**\n   * @private\n   * @return {boolean} The image canvas is tainted.\n   */\n  isTainted_() {\n    if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n      if (!taintedTestContext) {\n        taintedTestContext = createCanvasContext2D(1, 1, undefined, {\n          willReadFrequently: true\n        });\n      }\n      taintedTestContext.drawImage(this.image_, 0, 0);\n      try {\n        taintedTestContext.getImageData(0, 0, 1, 1);\n        this.tainted_ = false;\n      } catch {\n        taintedTestContext = null;\n        this.tainted_ = true;\n      }\n    }\n    return this.tainted_ === true;\n  }\n\n  /**\n   * @private\n   */\n  dispatchChangeEvent_() {\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * @private\n   */\n  handleImageError_() {\n    this.imageState_ = ImageState.ERROR;\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @private\n   */\n  handleImageLoad_() {\n    this.imageState_ = ImageState.LOADED;\n    this.size_ = [this.image_.width, this.image_.height];\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement|ImageBitmap} Image or Canvas element or image bitmap.\n   */\n  getImage(pixelRatio) {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Image or Canvas element.\n   */\n  getPixelRatio(pixelRatio) {\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? pixelRatio : 1;\n  }\n\n  /**\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  getImageState() {\n    return this.imageState_;\n  }\n\n  /**\n   * @return {HTMLImageElement|HTMLCanvasElement|ImageBitmap} Image element.\n   */\n  getHitDetectionImage() {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    if (!this.hitDetectionImage_) {\n      if (this.isTainted_()) {\n        const width = this.size_[0];\n        const height = this.size_[1];\n        const context = createCanvasContext2D(width, height);\n        context.fillRect(0, 0, width, height);\n        this.hitDetectionImage_ = context.canvas;\n      } else {\n        this.hitDetectionImage_ = this.image_;\n      }\n    }\n    return this.hitDetectionImage_;\n  }\n\n  /**\n   * Get the size of the icon (in pixels).\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  getSize() {\n    return this.size_;\n  }\n\n  /**\n   * @return {string|undefined} Image src.\n   */\n  getSrc() {\n    return this.src_;\n  }\n\n  /**\n   * Load not yet loaded URI.\n   */\n  load() {\n    if (this.imageState_ !== ImageState.IDLE) {\n      return;\n    }\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    this.imageState_ = ImageState.LOADING;\n    try {\n      if (this.src_ !== undefined) {\n        /** @type {HTMLImageElement} */this.image_.src = this.src_;\n      }\n    } catch {\n      this.handleImageError_();\n    }\n    if (this.image_ instanceof HTMLImageElement) {\n      decodeFallback(this.image_, this.src_).then(image => {\n        this.image_ = image;\n        this.handleImageLoad_();\n      }).catch(this.handleImageError_.bind(this));\n    }\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @private\n   */\n  replaceColor_(pixelRatio) {\n    if (!this.color_ || this.canvas_[pixelRatio] || this.imageState_ !== ImageState.LOADED) {\n      return;\n    }\n    const image = this.image_;\n    const ctx = createCanvasContext2D(Math.ceil(image.width * pixelRatio), Math.ceil(image.height * pixelRatio));\n    const canvas = ctx.canvas;\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.drawImage(image, 0, 0);\n    ctx.globalCompositeOperation = 'multiply';\n    ctx.fillStyle = asString(this.color_);\n    ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n    ctx.globalCompositeOperation = 'destination-in';\n    ctx.drawImage(image, 0, 0);\n    this.canvas_[pixelRatio] = canvas;\n  }\n\n  /**\n   * @return {Promise<void>} Promise that resolves when the image is loaded.\n   */\n  ready() {\n    if (!this.ready_) {\n      this.ready_ = new Promise(resolve => {\n        if (this.imageState_ === ImageState.LOADED || this.imageState_ === ImageState.ERROR) {\n          resolve();\n        } else {\n          const onChange = () => {\n            if (this.imageState_ === ImageState.LOADED || this.imageState_ === ImageState.ERROR) {\n              this.removeEventListener(EventType.CHANGE, onChange);\n              resolve();\n            }\n          };\n          this.addEventListener(EventType.CHANGE, onChange);\n        }\n      });\n    }\n    return this.ready_;\n  }\n}\n\n/**\n * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null} image Image.\n * @param {string|undefined} cacheKey Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default|undefined} imageState Image state.\n * @param {import(\"../color.js\").Color|string|null} color Color.\n * @param {boolean} [pattern] Also cache a `repeat` pattern with the icon image.\n * @return {IconImage} Icon image.\n */\nexport function get(image, cacheKey, crossOrigin, imageState, color, pattern) {\n  let iconImage = cacheKey === undefined ? undefined : iconImageCache.get(cacheKey, crossOrigin, color);\n  if (!iconImage) {\n    iconImage = new IconImage(image, image && 'src' in image ? image.src || undefined : cacheKey, crossOrigin, imageState, color);\n    iconImageCache.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  if (pattern && iconImage && !iconImageCache.getPattern(cacheKey, crossOrigin, color)) {\n    iconImageCache.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  return iconImage;\n}\nexport default IconImage;","map":{"version":3,"names":["decodeFallback","ImageState","asString","createCanvasContext2D","EventType","EventTarget","shared","iconImageCache","taintedTestContext","IconImage","constructor","image","src","crossOrigin","imageState","color","hitDetectionImage_","image_","crossOrigin_","canvas_","color_","imageState_","undefined","IDLE","size_","width","height","src_","tainted_","ready_","initializeImage_","Image","isTainted_","LOADED","willReadFrequently","drawImage","getImageData","dispatchChangeEvent_","dispatchEvent","CHANGE","handleImageError_","ERROR","handleImageLoad_","getImage","pixelRatio","replaceColor_","getPixelRatio","getImageState","getHitDetectionImage","context","fillRect","canvas","getSize","getSrc","load","LOADING","HTMLImageElement","then","catch","bind","ctx","Math","ceil","scale","globalCompositeOperation","fillStyle","ready","Promise","resolve","onChange","removeEventListener","addEventListener","get","cacheKey","pattern","iconImage","set","getPattern"],"sources":["C:/prj/cnbcs_web_frontend/node_modules/ol/style/IconImage.js"],"sourcesContent":["/**\n * @module ol/style/IconImage\n */\n\nimport {decodeFallback} from '../Image.js';\nimport ImageState from '../ImageState.js';\nimport {asString} from '../color.js';\nimport {createCanvasContext2D} from '../dom.js';\nimport EventType from '../events/EventType.js';\nimport EventTarget from '../events/Target.js';\nimport {shared as iconImageCache} from './IconImageCache.js';\n\n/**\n * @type {CanvasRenderingContext2D}\n */\nlet taintedTestContext = null;\n\nclass IconImage extends EventTarget {\n  /**\n   * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null} image Image.\n   * @param {string|undefined} src Src.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {import(\"../ImageState.js\").default|undefined} imageState Image state.\n   * @param {import(\"../color.js\").Color|string|null} color Color.\n   */\n  constructor(image, src, crossOrigin, imageState, color) {\n    super();\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement|ImageBitmap}\n     */\n    this.hitDetectionImage_ = null;\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null}\n     */\n    this.image_ = image;\n\n    /**\n     * @private\n     * @type {string|null}\n     */\n    this.crossOrigin_ = crossOrigin;\n\n    /**\n     * @private\n     * @type {Object<number, HTMLCanvasElement>}\n     */\n    this.canvas_ = {};\n\n    /**\n     * @private\n     * @type {import(\"../color.js\").Color|string|null}\n     */\n    this.color_ = color;\n\n    /**\n     * @private\n     * @type {import(\"../ImageState.js\").default}\n     */\n    this.imageState_ = imageState === undefined ? ImageState.IDLE : imageState;\n\n    /**\n     * @private\n     * @type {import(\"../size.js\").Size|null}\n     */\n    this.size_ =\n      image && image.width && image.height ? [image.width, image.height] : null;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     */\n    this.tainted_;\n\n    /**\n     * @private\n     * @type {Promise<void>|null}\n     */\n    this.ready_ = null;\n  }\n\n  /**\n   * @private\n   */\n  initializeImage_() {\n    this.image_ = new Image();\n    if (this.crossOrigin_ !== null) {\n      this.image_.crossOrigin = this.crossOrigin_;\n    }\n  }\n\n  /**\n   * @private\n   * @return {boolean} The image canvas is tainted.\n   */\n  isTainted_() {\n    if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n      if (!taintedTestContext) {\n        taintedTestContext = createCanvasContext2D(1, 1, undefined, {\n          willReadFrequently: true,\n        });\n      }\n      taintedTestContext.drawImage(this.image_, 0, 0);\n      try {\n        taintedTestContext.getImageData(0, 0, 1, 1);\n        this.tainted_ = false;\n      } catch {\n        taintedTestContext = null;\n        this.tainted_ = true;\n      }\n    }\n    return this.tainted_ === true;\n  }\n\n  /**\n   * @private\n   */\n  dispatchChangeEvent_() {\n    this.dispatchEvent(EventType.CHANGE);\n  }\n\n  /**\n   * @private\n   */\n  handleImageError_() {\n    this.imageState_ = ImageState.ERROR;\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @private\n   */\n  handleImageLoad_() {\n    this.imageState_ = ImageState.LOADED;\n    this.size_ = [this.image_.width, this.image_.height];\n    this.dispatchChangeEvent_();\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {HTMLImageElement|HTMLCanvasElement|ImageBitmap} Image or Canvas element or image bitmap.\n   */\n  getImage(pixelRatio) {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @return {number} Image or Canvas element.\n   */\n  getPixelRatio(pixelRatio) {\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? pixelRatio : 1;\n  }\n\n  /**\n   * @return {import(\"../ImageState.js\").default} Image state.\n   */\n  getImageState() {\n    return this.imageState_;\n  }\n\n  /**\n   * @return {HTMLImageElement|HTMLCanvasElement|ImageBitmap} Image element.\n   */\n  getHitDetectionImage() {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    if (!this.hitDetectionImage_) {\n      if (this.isTainted_()) {\n        const width = this.size_[0];\n        const height = this.size_[1];\n        const context = createCanvasContext2D(width, height);\n        context.fillRect(0, 0, width, height);\n        this.hitDetectionImage_ = context.canvas;\n      } else {\n        this.hitDetectionImage_ = this.image_;\n      }\n    }\n    return this.hitDetectionImage_;\n  }\n\n  /**\n   * Get the size of the icon (in pixels).\n   * @return {import(\"../size.js\").Size} Image size.\n   */\n  getSize() {\n    return this.size_;\n  }\n\n  /**\n   * @return {string|undefined} Image src.\n   */\n  getSrc() {\n    return this.src_;\n  }\n\n  /**\n   * Load not yet loaded URI.\n   */\n  load() {\n    if (this.imageState_ !== ImageState.IDLE) {\n      return;\n    }\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n\n    this.imageState_ = ImageState.LOADING;\n    try {\n      if (this.src_ !== undefined) {\n        /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n      }\n    } catch {\n      this.handleImageError_();\n    }\n    if (this.image_ instanceof HTMLImageElement) {\n      decodeFallback(this.image_, this.src_)\n        .then((image) => {\n          this.image_ = image;\n          this.handleImageLoad_();\n        })\n        .catch(this.handleImageError_.bind(this));\n    }\n  }\n\n  /**\n   * @param {number} pixelRatio Pixel ratio.\n   * @private\n   */\n  replaceColor_(pixelRatio) {\n    if (\n      !this.color_ ||\n      this.canvas_[pixelRatio] ||\n      this.imageState_ !== ImageState.LOADED\n    ) {\n      return;\n    }\n\n    const image = this.image_;\n    const ctx = createCanvasContext2D(\n      Math.ceil(image.width * pixelRatio),\n      Math.ceil(image.height * pixelRatio),\n    );\n    const canvas = ctx.canvas;\n\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.drawImage(image, 0, 0);\n\n    ctx.globalCompositeOperation = 'multiply';\n    ctx.fillStyle = asString(this.color_);\n    ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n\n    ctx.globalCompositeOperation = 'destination-in';\n    ctx.drawImage(image, 0, 0);\n\n    this.canvas_[pixelRatio] = canvas;\n  }\n\n  /**\n   * @return {Promise<void>} Promise that resolves when the image is loaded.\n   */\n  ready() {\n    if (!this.ready_) {\n      this.ready_ = new Promise((resolve) => {\n        if (\n          this.imageState_ === ImageState.LOADED ||\n          this.imageState_ === ImageState.ERROR\n        ) {\n          resolve();\n        } else {\n          const onChange = () => {\n            if (\n              this.imageState_ === ImageState.LOADED ||\n              this.imageState_ === ImageState.ERROR\n            ) {\n              this.removeEventListener(EventType.CHANGE, onChange);\n              resolve();\n            }\n          };\n          this.addEventListener(EventType.CHANGE, onChange);\n        }\n      });\n    }\n    return this.ready_;\n  }\n}\n\n/**\n * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap|null} image Image.\n * @param {string|undefined} cacheKey Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default|undefined} imageState Image state.\n * @param {import(\"../color.js\").Color|string|null} color Color.\n * @param {boolean} [pattern] Also cache a `repeat` pattern with the icon image.\n * @return {IconImage} Icon image.\n */\nexport function get(image, cacheKey, crossOrigin, imageState, color, pattern) {\n  let iconImage =\n    cacheKey === undefined\n      ? undefined\n      : iconImageCache.get(cacheKey, crossOrigin, color);\n  if (!iconImage) {\n    iconImage = new IconImage(\n      image,\n      image && 'src' in image ? image.src || undefined : cacheKey,\n      crossOrigin,\n      imageState,\n      color,\n    );\n    iconImageCache.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  if (\n    pattern &&\n    iconImage &&\n    !iconImageCache.getPattern(cacheKey, crossOrigin, color)\n  ) {\n    iconImageCache.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  return iconImage;\n}\n\nexport default IconImage;\n"],"mappings":"AAAA;AACA;AACA;;AAEA,SAAQA,cAAc,QAAO,aAAa;AAC1C,OAAOC,UAAU,MAAM,kBAAkB;AACzC,SAAQC,QAAQ,QAAO,aAAa;AACpC,SAAQC,qBAAqB,QAAO,WAAW;AAC/C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,SAAQC,MAAM,IAAIC,cAAc,QAAO,qBAAqB;;AAE5D;AACA;AACA;AACA,IAAIC,kBAAkB,GAAG,IAAI;AAE7B,MAAMC,SAAS,SAASJ,WAAW,CAAC;EAClC;AACF;AACA;AACA;AACA;AACA;AACA;EACEK,WAAWA,CAACC,KAAK,EAAEC,GAAG,EAAEC,WAAW,EAAEC,UAAU,EAAEC,KAAK,EAAE;IACtD,KAAK,CAAC,CAAC;;IAEP;AACJ;AACA;AACA;IACI,IAAI,CAACC,kBAAkB,GAAG,IAAI;;IAE9B;AACJ;AACA;AACA;IACI,IAAI,CAACC,MAAM,GAAGN,KAAK;;IAEnB;AACJ;AACA;AACA;IACI,IAAI,CAACO,YAAY,GAAGL,WAAW;;IAE/B;AACJ;AACA;AACA;IACI,IAAI,CAACM,OAAO,GAAG,CAAC,CAAC;;IAEjB;AACJ;AACA;AACA;IACI,IAAI,CAACC,MAAM,GAAGL,KAAK;;IAEnB;AACJ;AACA;AACA;IACI,IAAI,CAACM,WAAW,GAAGP,UAAU,KAAKQ,SAAS,GAAGrB,UAAU,CAACsB,IAAI,GAAGT,UAAU;;IAE1E;AACJ;AACA;AACA;IACI,IAAI,CAACU,KAAK,GACRb,KAAK,IAAIA,KAAK,CAACc,KAAK,IAAId,KAAK,CAACe,MAAM,GAAG,CAACf,KAAK,CAACc,KAAK,EAAEd,KAAK,CAACe,MAAM,CAAC,GAAG,IAAI;;IAE3E;AACJ;AACA;AACA;IACI,IAAI,CAACC,IAAI,GAAGf,GAAG;;IAEf;AACJ;AACA;IACI,IAAI,CAACgB,QAAQ;;IAEb;AACJ;AACA;AACA;IACI,IAAI,CAACC,MAAM,GAAG,IAAI;EACpB;;EAEA;AACF;AACA;EACEC,gBAAgBA,CAAA,EAAG;IACjB,IAAI,CAACb,MAAM,GAAG,IAAIc,KAAK,CAAC,CAAC;IACzB,IAAI,IAAI,CAACb,YAAY,KAAK,IAAI,EAAE;MAC9B,IAAI,CAACD,MAAM,CAACJ,WAAW,GAAG,IAAI,CAACK,YAAY;IAC7C;EACF;;EAEA;AACF;AACA;AACA;EACEc,UAAUA,CAAA,EAAG;IACX,IAAI,IAAI,CAACJ,QAAQ,KAAKN,SAAS,IAAI,IAAI,CAACD,WAAW,KAAKpB,UAAU,CAACgC,MAAM,EAAE;MACzE,IAAI,CAACzB,kBAAkB,EAAE;QACvBA,kBAAkB,GAAGL,qBAAqB,CAAC,CAAC,EAAE,CAAC,EAAEmB,SAAS,EAAE;UAC1DY,kBAAkB,EAAE;QACtB,CAAC,CAAC;MACJ;MACA1B,kBAAkB,CAAC2B,SAAS,CAAC,IAAI,CAAClB,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;MAC/C,IAAI;QACFT,kBAAkB,CAAC4B,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,CAACR,QAAQ,GAAG,KAAK;MACvB,CAAC,CAAC,MAAM;QACNpB,kBAAkB,GAAG,IAAI;QACzB,IAAI,CAACoB,QAAQ,GAAG,IAAI;MACtB;IACF;IACA,OAAO,IAAI,CAACA,QAAQ,KAAK,IAAI;EAC/B;;EAEA;AACF;AACA;EACES,oBAAoBA,CAAA,EAAG;IACrB,IAAI,CAACC,aAAa,CAAClC,SAAS,CAACmC,MAAM,CAAC;EACtC;;EAEA;AACF;AACA;EACEC,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACnB,WAAW,GAAGpB,UAAU,CAACwC,KAAK;IACnC,IAAI,CAACJ,oBAAoB,CAAC,CAAC;EAC7B;;EAEA;AACF;AACA;EACEK,gBAAgBA,CAAA,EAAG;IACjB,IAAI,CAACrB,WAAW,GAAGpB,UAAU,CAACgC,MAAM;IACpC,IAAI,CAACT,KAAK,GAAG,CAAC,IAAI,CAACP,MAAM,CAACQ,KAAK,EAAE,IAAI,CAACR,MAAM,CAACS,MAAM,CAAC;IACpD,IAAI,CAACW,oBAAoB,CAAC,CAAC;EAC7B;;EAEA;AACF;AACA;AACA;EACEM,QAAQA,CAACC,UAAU,EAAE;IACnB,IAAI,CAAC,IAAI,CAAC3B,MAAM,EAAE;MAChB,IAAI,CAACa,gBAAgB,CAAC,CAAC;IACzB;IACA,IAAI,CAACe,aAAa,CAACD,UAAU,CAAC;IAC9B,OAAO,IAAI,CAACzB,OAAO,CAACyB,UAAU,CAAC,GAAG,IAAI,CAACzB,OAAO,CAACyB,UAAU,CAAC,GAAG,IAAI,CAAC3B,MAAM;EAC1E;;EAEA;AACF;AACA;AACA;EACE6B,aAAaA,CAACF,UAAU,EAAE;IACxB,IAAI,CAACC,aAAa,CAACD,UAAU,CAAC;IAC9B,OAAO,IAAI,CAACzB,OAAO,CAACyB,UAAU,CAAC,GAAGA,UAAU,GAAG,CAAC;EAClD;;EAEA;AACF;AACA;EACEG,aAAaA,CAAA,EAAG;IACd,OAAO,IAAI,CAAC1B,WAAW;EACzB;;EAEA;AACF;AACA;EACE2B,oBAAoBA,CAAA,EAAG;IACrB,IAAI,CAAC,IAAI,CAAC/B,MAAM,EAAE;MAChB,IAAI,CAACa,gBAAgB,CAAC,CAAC;IACzB;IACA,IAAI,CAAC,IAAI,CAACd,kBAAkB,EAAE;MAC5B,IAAI,IAAI,CAACgB,UAAU,CAAC,CAAC,EAAE;QACrB,MAAMP,KAAK,GAAG,IAAI,CAACD,KAAK,CAAC,CAAC,CAAC;QAC3B,MAAME,MAAM,GAAG,IAAI,CAACF,KAAK,CAAC,CAAC,CAAC;QAC5B,MAAMyB,OAAO,GAAG9C,qBAAqB,CAACsB,KAAK,EAAEC,MAAM,CAAC;QACpDuB,OAAO,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEzB,KAAK,EAAEC,MAAM,CAAC;QACrC,IAAI,CAACV,kBAAkB,GAAGiC,OAAO,CAACE,MAAM;MAC1C,CAAC,MAAM;QACL,IAAI,CAACnC,kBAAkB,GAAG,IAAI,CAACC,MAAM;MACvC;IACF;IACA,OAAO,IAAI,CAACD,kBAAkB;EAChC;;EAEA;AACF;AACA;AACA;EACEoC,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAAC5B,KAAK;EACnB;;EAEA;AACF;AACA;EACE6B,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAAC1B,IAAI;EAClB;;EAEA;AACF;AACA;EACE2B,IAAIA,CAAA,EAAG;IACL,IAAI,IAAI,CAACjC,WAAW,KAAKpB,UAAU,CAACsB,IAAI,EAAE;MACxC;IACF;IACA,IAAI,CAAC,IAAI,CAACN,MAAM,EAAE;MAChB,IAAI,CAACa,gBAAgB,CAAC,CAAC;IACzB;IAEA,IAAI,CAACT,WAAW,GAAGpB,UAAU,CAACsD,OAAO;IACrC,IAAI;MACF,IAAI,IAAI,CAAC5B,IAAI,KAAKL,SAAS,EAAE;QAC3B,+BAAiC,IAAI,CAACL,MAAM,CAAEL,GAAG,GAAG,IAAI,CAACe,IAAI;MAC/D;IACF,CAAC,CAAC,MAAM;MACN,IAAI,CAACa,iBAAiB,CAAC,CAAC;IAC1B;IACA,IAAI,IAAI,CAACvB,MAAM,YAAYuC,gBAAgB,EAAE;MAC3CxD,cAAc,CAAC,IAAI,CAACiB,MAAM,EAAE,IAAI,CAACU,IAAI,CAAC,CACnC8B,IAAI,CAAE9C,KAAK,IAAK;QACf,IAAI,CAACM,MAAM,GAAGN,KAAK;QACnB,IAAI,CAAC+B,gBAAgB,CAAC,CAAC;MACzB,CAAC,CAAC,CACDgB,KAAK,CAAC,IAAI,CAAClB,iBAAiB,CAACmB,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7C;EACF;;EAEA;AACF;AACA;AACA;EACEd,aAAaA,CAACD,UAAU,EAAE;IACxB,IACE,CAAC,IAAI,CAACxB,MAAM,IACZ,IAAI,CAACD,OAAO,CAACyB,UAAU,CAAC,IACxB,IAAI,CAACvB,WAAW,KAAKpB,UAAU,CAACgC,MAAM,EACtC;MACA;IACF;IAEA,MAAMtB,KAAK,GAAG,IAAI,CAACM,MAAM;IACzB,MAAM2C,GAAG,GAAGzD,qBAAqB,CAC/B0D,IAAI,CAACC,IAAI,CAACnD,KAAK,CAACc,KAAK,GAAGmB,UAAU,CAAC,EACnCiB,IAAI,CAACC,IAAI,CAACnD,KAAK,CAACe,MAAM,GAAGkB,UAAU,CACrC,CAAC;IACD,MAAMO,MAAM,GAAGS,GAAG,CAACT,MAAM;IAEzBS,GAAG,CAACG,KAAK,CAACnB,UAAU,EAAEA,UAAU,CAAC;IACjCgB,GAAG,CAACzB,SAAS,CAACxB,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IAE1BiD,GAAG,CAACI,wBAAwB,GAAG,UAAU;IACzCJ,GAAG,CAACK,SAAS,GAAG/D,QAAQ,CAAC,IAAI,CAACkB,MAAM,CAAC;IACrCwC,GAAG,CAACV,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAEC,MAAM,CAAC1B,KAAK,GAAGmB,UAAU,EAAEO,MAAM,CAACzB,MAAM,GAAGkB,UAAU,CAAC;IAEzEgB,GAAG,CAACI,wBAAwB,GAAG,gBAAgB;IAC/CJ,GAAG,CAACzB,SAAS,CAACxB,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;IAE1B,IAAI,CAACQ,OAAO,CAACyB,UAAU,CAAC,GAAGO,MAAM;EACnC;;EAEA;AACF;AACA;EACEe,KAAKA,CAAA,EAAG;IACN,IAAI,CAAC,IAAI,CAACrC,MAAM,EAAE;MAChB,IAAI,CAACA,MAAM,GAAG,IAAIsC,OAAO,CAAEC,OAAO,IAAK;QACrC,IACE,IAAI,CAAC/C,WAAW,KAAKpB,UAAU,CAACgC,MAAM,IACtC,IAAI,CAACZ,WAAW,KAAKpB,UAAU,CAACwC,KAAK,EACrC;UACA2B,OAAO,CAAC,CAAC;QACX,CAAC,MAAM;UACL,MAAMC,QAAQ,GAAGA,CAAA,KAAM;YACrB,IACE,IAAI,CAAChD,WAAW,KAAKpB,UAAU,CAACgC,MAAM,IACtC,IAAI,CAACZ,WAAW,KAAKpB,UAAU,CAACwC,KAAK,EACrC;cACA,IAAI,CAAC6B,mBAAmB,CAAClE,SAAS,CAACmC,MAAM,EAAE8B,QAAQ,CAAC;cACpDD,OAAO,CAAC,CAAC;YACX;UACF,CAAC;UACD,IAAI,CAACG,gBAAgB,CAACnE,SAAS,CAACmC,MAAM,EAAE8B,QAAQ,CAAC;QACnD;MACF,CAAC,CAAC;IACJ;IACA,OAAO,IAAI,CAACxC,MAAM;EACpB;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAAS2C,GAAGA,CAAC7D,KAAK,EAAE8D,QAAQ,EAAE5D,WAAW,EAAEC,UAAU,EAAEC,KAAK,EAAE2D,OAAO,EAAE;EAC5E,IAAIC,SAAS,GACXF,QAAQ,KAAKnD,SAAS,GAClBA,SAAS,GACTf,cAAc,CAACiE,GAAG,CAACC,QAAQ,EAAE5D,WAAW,EAAEE,KAAK,CAAC;EACtD,IAAI,CAAC4D,SAAS,EAAE;IACdA,SAAS,GAAG,IAAIlE,SAAS,CACvBE,KAAK,EACLA,KAAK,IAAI,KAAK,IAAIA,KAAK,GAAGA,KAAK,CAACC,GAAG,IAAIU,SAAS,GAAGmD,QAAQ,EAC3D5D,WAAW,EACXC,UAAU,EACVC,KACF,CAAC;IACDR,cAAc,CAACqE,GAAG,CAACH,QAAQ,EAAE5D,WAAW,EAAEE,KAAK,EAAE4D,SAAS,EAAED,OAAO,CAAC;EACtE;EACA,IACEA,OAAO,IACPC,SAAS,IACT,CAACpE,cAAc,CAACsE,UAAU,CAACJ,QAAQ,EAAE5D,WAAW,EAAEE,KAAK,CAAC,EACxD;IACAR,cAAc,CAACqE,GAAG,CAACH,QAAQ,EAAE5D,WAAW,EAAEE,KAAK,EAAE4D,SAAS,EAAED,OAAO,CAAC;EACtE;EACA,OAAOC,SAAS;AAClB;AAEA,eAAelE,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}